"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[356],{8356:function(e,t,o){o.d(t,{D5:function(){return m},le:function(){return w}});var a,n,r=o(7294),i=o(3935);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)t.indexOf(o=r[a])>=0||(n[o]=e[o]);return n}let u="undefined"!=typeof window&&"undefined"!=typeof document?r.useLayoutEffect:r.useEffect,d=(e,t,o)=>{u(()=>{if(!e||!o)return;let a=(...t)=>void 0===t?o(e):o(e,...t);return kakao.maps.event.addListener(e,t,a),()=>{kakao.maps.event.removeListener(e,t,a)}},[e,t,o])};(a=n||(n={}))[a.INITIALIZED=0]="INITIALIZED",a[a.LOADING=1]="LOADING",a[a.SUCCESS=2]="SUCCESS",a[a.FAILURE=3]="FAILURE";class c{constructor({appkey:e,id:t="__reactKakaoMapsSdkloaderId",libraries:o=[],nonce:a,retries:n=3,url:r="//dapi.kakao.com/v2/maps/sdk.js"}){if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=t,this.appkey=e,this.libraries=o,this.nonce=a,this.retries=n,this.url=r,c.instance){if(!c.equalOptions(this.options,c.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(c.instance.options)}`);return c.instance}c.instance=this}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static isLoaded(){return new Promise(e=>c.instance?c.instance.status===n.FAILURE||c.instance.status===n.INITIALIZED?e(!1):(c.instance.status===n.LOADING&&c.loadcheckcallbacks.push(t=>e(!t)),e(!0)):window.kakao&&window.kakao.maps?window.kakao.maps.load(()=>{e(!0)}):c.loadcheckcallbacks.push(t=>{e(!t)}))}load(){return new Promise((e,t)=>{this.loadCallback(o=>{o?t(o.error):e(window.kakao)})})}get status(){return this.onerrorEvent?n.FAILURE:this.done?n.SUCCESS:this.loading?n.LOADING:n.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(e){this.callbacks.push(e),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();let e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}loadErrorCallback(e,t,o,a,n){if(this.errors.push({event:e,source:t,lineno:o,colno:a,error:n}),this.errors.length<=this.retries){let r=this.errors.length*2**this.errors.length;console.log(`Failed to load Kakao Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()}createUrl(){let e=this.url;return e+=`?appkey=${this.appkey}`,this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),e+="&autoload=false"}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}callback(){kakao.maps.load(()=>{this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[],c.loadcheckcallbacks.forEach(e=>{e(this.onerrorEvent)}),c.loadcheckcallbacks=[]})}static equalOptions(e,t){if(e.appkey!==t.appkey||e.id!==t.id||e.libraries.length!==t.libraries.length)return!1;for(let o=0;o<e.libraries.length;++o)if(e.libraries[o]!==t.libraries[o])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url}}c.instance=void 0,c.loadcheckcallbacks=[];let p=["id","as","children","center","isPanto","padding","disableDoubleClick","disableDoubleClickZoom","draggable","zoomable","keyboardShortcuts","level","maxLevel","minLevel","mapTypeId","projectionId","scrollwheel","tileAnimation","onBoundsChanged","onCenterChanged","onClick","onDoubleClick","onDrag","onDragEnd","onDragStart","onIdle","onMaptypeidChanged","onMouseMove","onRightClick","onTileLoaded","onZoomChanged","onZoomStart","onCreate"],k=r.createContext(void 0),m=r.forwardRef((e,t)=>{let{id:o,as:a,children:n,center:i,isPanto:m=!1,padding:f=32,disableDoubleClick:g,disableDoubleClickZoom:h,draggable:y,zoomable:w,keyboardShortcuts:v,level:C,maxLevel:L,minLevel:E,mapTypeId:I,projectionId:b,scrollwheel:M,tileAnimation:O,onBoundsChanged:x,onCenterChanged:S,onClick:z,onDoubleClick:P,onDrag:R,onDragEnd:A,onDragStart:D,onIdle:T,onMaptypeidChanged:Z,onMouseMove:W,onRightClick:H,onTileLoaded:N,onZoomChanged:_,onZoomStart:j,onCreate:F}=e,G=l(e,p),[U,V]=(0,r.useState)(!1),[B,$]=(0,r.useState)(),q=(0,r.useRef)(null);return u(()=>{c.isLoaded().then(V)},[]),u(()=>{if(!U)return;let e=q.current;if(!e)return;let t="lat"in i?new kakao.maps.LatLng(i.lat,i.lng):new kakao.maps.Coords(i.x,i.y),o=new kakao.maps.Map(e,{center:t,disableDoubleClick:g,disableDoubleClickZoom:h,draggable:y,keyboardShortcuts:v,level:C,mapTypeId:I,projectionId:b,scrollwheel:M,tileAnimation:O});return $(o),()=>{e.innerHTML=""}},[U,g,h,I,O]),(0,r.useImperativeHandle)(t,()=>B,[B]),u(()=>{B&&F&&F(B)},[B,F]),u(()=>{if(!B)return;let e=B.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());let t="lat"in i?new kakao.maps.LatLng(i.lat,i.lng):new kakao.maps.Coords(i.x,i.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(m?B.panTo(t,f):B.setCenter(t))},[B,i.lat,i.lng,i.x,i.y]),u(()=>{B&&void 0!==y&&B.setDraggable(y)},[B,y]),u(()=>{B&&void 0!==w&&B.setZoomable(w)},[B,w]),u(()=>{B&&v&&"boolean"==typeof v&&B.setKeyboardShortcuts(v)},[B,v]),u(()=>{B&&C&&B.setLevel(C)},[B,C]),u(()=>{B&&I&&B.setMapTypeId(I)},[B,I]),u(()=>{B&&b&&B.setProjectionId(b)},[B,b]),u(()=>{B&&L&&B.setMaxLevel(L)},[B,L]),u(()=>{B&&E&&B.setMinLevel(E)},[B,E]),d(B,"bounds_changed",x),d(B,"center_changed",S),d(B,"click",z),d(B,"dblclick",P),d(B,"drag",R),d(B,"dragstart",D),d(B,"dragend",A),d(B,"idle",T),d(B,"maptypeid_changed",Z),d(B,"mousemove",W),d(B,"rightclick",H),d(B,"tilesloaded",N),d(B,"zoom_changed",_),d(B,"zoom_start",j),r.createElement(r.Fragment,null,r.createElement(a||"div",s({id:o||"react-kakao-maps-sdk-map-container"},G,{ref:q})),B&&r.createElement(k.Provider,{value:B},n))}),f=e=>{let t=(0,r.useContext)(k);if(!t)throw Error((e?e+" Component":"useMap")+" must exist inside Map Component!");return t},g=r.forwardRef(({map:e,position:t,marker:o,children:a,altitude:n,disableAutoPan:s,range:l,removable:u,zIndex:d,onCreate:c},p)=>{let k=(0,r.useRef)(document.createElement("div")),m=(0,r.useMemo)(()=>{let e=new kakao.maps.InfoWindow({altitude:n,disableAutoPan:s,range:l,removable:u,zIndex:d,content:k.current,position:t});return k.current.style.display="none",e},[s,u]);return(0,r.useImperativeHandle)(p,()=>m,[m]),(0,r.useLayoutEffect)(()=>(m.open(e,o),()=>{m.close()}),[e,o]),(0,r.useLayoutEffect)(()=>{c&&c(m)},[m,c]),(0,r.useLayoutEffect)(()=>{m&&m.setPosition(t)},[m,t]),(0,r.useLayoutEffect)(()=>{m&&n&&m.setAltitude(n)},[m,n]),(0,r.useLayoutEffect)(()=>{m&&l&&m.setRange(l)},[m,l]),(0,r.useLayoutEffect)(()=>{m&&d&&m.setZIndex(d)},[m,d]),k.current.parentElement&&i.createPortal(a,k.current.parentElement)}),h=r.createContext(void 0),y=(r.forwardRef(({children:e,averageCenter:t,calculator:o,clickable:a,disableClickZoom:n,gridSize:i,hoverable:s,minClusterSize:l,minLevel:u,styles:c,texts:p,onClusterclick:k,onClusterdblclick:m,onClustered:g,onClusterout:y,onClusterover:w,onClusterrightclick:v,onCreate:C},L)=>{let E=f("MarkerClusterer"),I=(0,r.useMemo)(()=>{if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:t,calculator:o,clickable:a,disableClickZoom:n,gridSize:i,hoverable:s,minClusterSize:l,minLevel:u,styles:c,texts:p});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return(0,r.useImperativeHandle)(L,()=>I,[I]),(0,r.useLayoutEffect)(()=>{null==I||I.setMap(E)},[E,I]),(0,r.useLayoutEffect)(()=>{I&&C&&C(I)},[I,C]),(0,r.useLayoutEffect)(()=>{I&&i&&(I.setGridSize(i),I.redraw())},[I,i]),(0,r.useLayoutEffect)(()=>{I&&l&&(I.setMinClusterSize(l),I.redraw())},[I,l]),(0,r.useLayoutEffect)(()=>{I&&void 0!==t&&(I.setAverageCenter(t),I.redraw())},[I,t]),(0,r.useLayoutEffect)(()=>{I&&u&&(I.setMinLevel(u),I.redraw())},[I,u]),(0,r.useLayoutEffect)(()=>{I&&p&&(I.setTexts(p),I.redraw())},[I,p]),(0,r.useLayoutEffect)(()=>{I&&o&&(I.setCalculator(o),I.redraw())},[I,o]),(0,r.useLayoutEffect)(()=>{I&&c&&(I.setStyles(c),I.redraw())},[I,c]),d(I,"clusterclick",k),d(I,"clusterover",w),d(I,"clusterout",y),d(I,"clusterdblclick",m),d(I,"clusterrightclick",v),d(I,"clustered",g),I?r.createElement(h.Provider,{value:I},e):null}),r.forwardRef(({map:e,position:t,children:o,altitude:a,clickable:n,draggable:i,image:s,infoWindowOptions:l,onCreate:u,onClick:c,onDragEnd:p,onDragStart:k,onMouseOut:m,onMouseOver:f,opacity:y,range:w,title:v,zIndex:C},L)=>{let E=(0,r.useContext)(h),I=(0,r.useMemo)(()=>new kakao.maps.Marker({altitude:a,clickable:n,draggable:i,image:s,opacity:y,range:w,title:v,zIndex:C,position:t}),[]);return(0,r.useImperativeHandle)(L,()=>I,[I]),(0,r.useLayoutEffect)(()=>(E?E.addMarker(I):I.setMap(e),()=>{E?E.removeMarker(I):I.setMap(null)}),[e,E,I]),(0,r.useLayoutEffect)(()=>{u&&u(I)},[I,u]),d(I,"click",c),d(I,"dragstart",k),d(I,"dragend",p),d(I,"mouseout",m),d(I,"mouseover",f),(0,r.useLayoutEffect)(()=>{e&&I&&t&&I.setPosition(t)},[e,I,t]),(0,r.useLayoutEffect)(()=>{e&&I&&s&&I.setImage(s)},[e,I,s]),(0,r.useLayoutEffect)(()=>{e&&I&&a&&I.setAltitude(a)},[e,I,a]),(0,r.useLayoutEffect)(()=>{e&&I&&void 0!==n&&I.setClickable(n)},[e,I,n]),(0,r.useLayoutEffect)(()=>{e&&I&&void 0!==i&&I.setDraggable(i)},[e,I,i]),(0,r.useLayoutEffect)(()=>{e&&I&&y&&I.setOpacity(y)},[e,I,y]),(0,r.useLayoutEffect)(()=>{e&&I&&w&&I.setRange(w)},[e,I,w]),(0,r.useLayoutEffect)(()=>{e&&I&&v&&I.setTitle(v)},[e,I,v]),(0,r.useLayoutEffect)(()=>{e&&I&&C&&I.setZIndex(C)},[e,I,C]),o?r.createElement(g,{position:t,map:e,marker:I,altitude:null==l?void 0:l.altitude,disableAutoPan:null==l?void 0:l.disableAutoPan,range:null==l?void 0:l.range,removable:null==l?void 0:l.removable,zIndex:null==l?void 0:l.zIndex},o):null})),w=(r.forwardRef(({image:e,position:t,children:o,clickable:a,draggable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,title:m,zIndex:g},h)=>{let w=f("MapMarker"),v=(0,r.useMemo)(()=>{var t,o,a,n,r,i,s,l,u,d,c,p;return e&&new kakao.maps.MarkerImage(e.src,new kakao.maps.Size(e.size.width,e.size.height),{alt:null==(t=e.options)?void 0:t.alt,coords:null==(o=e.options)?void 0:o.coords,offset:(null==(a=e.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=e.options)?void 0:n.offset.x,null==(r=e.options)?void 0:r.offset.y),shape:null==(i=e.options)?void 0:i.shape,spriteOrigin:(null==(s=e.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(l=e.options)?void 0:l.spriteOrigin.x,null==(u=e.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(d=e.options)?void 0:d.spriteSize)&&new kakao.maps.Size(null==(c=e.options)?void 0:c.spriteSize.width,null==(p=e.options)?void 0:p.spriteSize.height)})},[e]),C=(0,r.useMemo)(()=>"lat"in t?new kakao.maps.LatLng(t.lat,t.lng):new kakao.maps.Coords(t.x,t.y).toLatLng(),[t.lat,t.lng,t.x,t.y]);return r.createElement(y,{map:w,position:C,image:v,clickable:a,draggable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,title:m,zIndex:g,ref:h},o)}),r.forwardRef(({position:e,children:t,disableAutoPan:o,removable:a,zIndex:n,onCreate:i},s)=>{let l=f("MapInfoWindow"),u=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]);return r.createElement(g,{disableAutoPan:o,removable:a,zIndex:n,map:l,position:u,onCreate:i,ref:s},t)}),r.forwardRef(({position:e,children:t,clickable:o,xAnchor:a,yAnchor:n,zIndex:s,onCreate:l},u)=>{let d=(0,r.useContext)(h),c=f("CustomOverlayMap"),p=(0,r.useRef)(document.createElement("div")),k=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]),m=(0,r.useMemo)(()=>{let e=new kakao.maps.CustomOverlay({clickable:o,xAnchor:a,yAnchor:n,zIndex:s,position:k,content:p.current});return p.current.style.display="none",e},[o,a,n]);return(0,r.useImperativeHandle)(u,()=>m,[m]),(0,r.useLayoutEffect)(()=>{if(c)return d?d.addMarker(m):m.setMap(c),()=>{d?d.removeMarker(m):m.setMap(null)}},[c,d,m]),(0,r.useLayoutEffect)(()=>{l&&l(m)},[m,l]),(0,r.useLayoutEffect)(()=>{m.setPosition(k)},[m,k]),(0,r.useLayoutEffect)(()=>{s&&m.setZIndex(s)},[m,s]),p.current.parentElement&&i.createPortal(t,p.current.parentElement)})),v=(r.forwardRef(({position:e=kakao.maps.ControlPosition.TOPRIGHT},t)=>{let o=f("MapTypeControl"),a=(0,r.useMemo)(()=>new kakao.maps.MapTypeControl,[]);return(0,r.useImperativeHandle)(t,()=>a,[a]),(0,r.useLayoutEffect)(()=>(o.addControl(a,e),()=>{o.removeControl(a)}),[o,a,e]),null}),r.forwardRef(({position:e=kakao.maps.ControlPosition.RIGHT},t)=>{let o=f("ZoomControl"),a=(0,r.useMemo)(()=>new kakao.maps.ZoomControl,[]);return(0,r.useImperativeHandle)(t,()=>a,[a]),(0,r.useEffect)(()=>(o.addControl(a,e),()=>{o.removeControl(a)}),[o,e]),null}),r.forwardRef(({center:e,radius:t,fillColor:o,fillOpacity:a,strokeColor:n,strokeOpacity:i,strokeStyle:s,strokeWeight:l,zIndex:u,onMouseover:c,onMouseout:p,onMousemove:k,onMousedown:m,onClick:g,onCreate:h},y)=>{let w=f("Circle"),v=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]),C=(0,r.useMemo)(()=>new kakao.maps.Circle({center:v,radius:t,fillColor:o,fillOpacity:a,strokeColor:n,strokeOpacity:i,strokeStyle:s,strokeWeight:l,zIndex:u}),[]);return(0,r.useImperativeHandle)(y,()=>C,[C]),(0,r.useLayoutEffect)(()=>(C.setMap(w),()=>{C.setMap(null)}),[w,C]),(0,r.useLayoutEffect)(()=>{h&&h(C)},[C,h]),(0,r.useLayoutEffect)(()=>{C&&C.setPosition(v)},[C,v]),(0,r.useLayoutEffect)(()=>{C.setRadius(t)},[C,t]),(0,r.useLayoutEffect)(()=>{u&&C.setZIndex(u)},[C,u]),(0,r.useLayoutEffect)(()=>{C.setOptions({fillColor:o,fillOpacity:a,strokeColor:n,strokeOpacity:i,strokeStyle:s,strokeWeight:l})},[C,o,a,n,i,s,l]),d(C,"mouseover",c),d(C,"mouseout",p),d(C,"mousemove",k),d(C,"mousedown",m),d(C,"click",g),null}),r.forwardRef(({path:e,endArrow:t,onClick:o,onMousedown:a,onMousemove:n,onMouseout:i,onMouseover:s,onCreate:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:k,zIndex:m},g)=>{let h=f("Polyline"),y=(0,r.useMemo)(()=>e.every(e=>e instanceof Array)?e.map(e=>e.map(e=>new kakao.maps.LatLng(e.lat,e.lng))):e.map(e=>new kakao.maps.LatLng(e.lat,e.lng)),[e]),w=(0,r.useMemo)(()=>new kakao.maps.Polyline({path:y,endArrow:t,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:k,zIndex:m}),[]);return(0,r.useImperativeHandle)(g,()=>w,[w]),(0,r.useLayoutEffect)(()=>(w.setMap(h),()=>w.setMap(null)),[h,w]),(0,r.useLayoutEffect)(()=>{l&&l(w)},[w,l]),(0,r.useLayoutEffect)(()=>{w.setOptions({endArrow:t,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:k})},[w,t,u,c,p,k]),(0,r.useLayoutEffect)(()=>{w.setPath(y)},[w,y]),(0,r.useLayoutEffect)(()=>{m&&w.setZIndex(m)},[w,m]),d(w,"mouseover",s),d(w,"mouseout",i),d(w,"mousemove",n),d(w,"mousedown",a),d(w,"click",o),null}),r.forwardRef(({path:e,onClick:t,onMousedown:o,onMousemove:a,onMouseout:n,onMouseover:i,onCreate:s,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,fillColor:k,fillOpacity:m,zIndex:g},h)=>{let y=f("Polygon"),w=(0,r.useMemo)(()=>e.every(e=>e instanceof Array)?e.map(e=>e.map(e=>new kakao.maps.LatLng(e.lat,e.lng))):e.map(e=>new kakao.maps.LatLng(e.lat,e.lng)),[e]),v=(0,r.useMemo)(()=>new kakao.maps.Polygon({path:w,fillColor:k,fillOpacity:m,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:g}),[]);return(0,r.useImperativeHandle)(h,()=>v,[v]),(0,r.useLayoutEffect)(()=>(v.setMap(y),()=>v.setMap(null)),[y,v]),(0,r.useLayoutEffect)(()=>{s&&s(v)},[v,s]),(0,r.useLayoutEffect)(()=>{v.setOptions({fillColor:k,fillOpacity:m,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p})},[v,k,m,l,u,c,p]),(0,r.useLayoutEffect)(()=>{v.setPath(w)},[v,w]),(0,r.useLayoutEffect)(()=>{g&&v.setZIndex(g)},[v,g]),d(v,"mouseover",i),d(v,"mouseout",n),d(v,"mousemove",a),d(v,"mousedown",o),d(v,"click",t),null}),r.forwardRef(({bounds:e,onClick:t,onMousedown:o,onMousemove:a,onMouseout:n,onMouseover:i,onCreate:s,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,fillColor:k,fillOpacity:m,zIndex:g},h)=>{let y=f("Rectangle"),w=(0,r.useMemo)(()=>new kakao.maps.LatLngBounds(new kakao.maps.LatLng(e.sw.lat,e.sw.lng),new kakao.maps.LatLng(e.ne.lat,e.ne.lng)),[e]),v=(0,r.useMemo)(()=>new kakao.maps.Rectangle({bounds:w,fillColor:k,fillOpacity:m,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:g}),[]);return(0,r.useImperativeHandle)(h,()=>v,[v]),(0,r.useLayoutEffect)(()=>(v.setMap(y),()=>v.setMap(null)),[y,v]),(0,r.useLayoutEffect)(()=>{s&&s(v)},[v,s]),(0,r.useLayoutEffect)(()=>{v.setOptions({fillColor:k,fillOpacity:m,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p})},[v,k,m,l,u,c,p]),(0,r.useLayoutEffect)(()=>{v.setBounds(w)},[v,w]),(0,r.useLayoutEffect)(()=>{g&&v.setZIndex(g)},[v,g]),d(v,"mouseover",i),d(v,"mouseout",n),d(v,"mousemove",a),d(v,"mousedown",o),d(v,"click",t),null}),r.forwardRef(({center:e,rx:t,ry:o,fillColor:a,fillOpacity:n,strokeColor:i,strokeOpacity:s,strokeStyle:l,strokeWeight:u,zIndex:c,onMouseover:p,onMouseout:k,onMousemove:m,onMousedown:g,onClick:h,onCreate:y},w)=>{let v=f("Ellipse"),C=(0,r.useMemo)(()=>new kakao.maps.LatLng(e.lat,e.lng),[e.lat,e.lng]),L=(0,r.useMemo)(()=>new kakao.maps.Ellipse({center:C,rx:t,ry:o,fillColor:a,fillOpacity:n,strokeColor:i,strokeOpacity:s,strokeStyle:l,strokeWeight:u,zIndex:c}),[]);return(0,r.useImperativeHandle)(w,()=>L,[L]),(0,r.useLayoutEffect)(()=>(L.setMap(v),()=>{L.setMap(null)}),[v,L]),(0,r.useLayoutEffect)(()=>{y&&y(L)},[L,y]),(0,r.useLayoutEffect)(()=>{L&&L.setPosition(C)},[L,C]),(0,r.useLayoutEffect)(()=>{L.setRadius(t,o)},[L,t,o]),(0,r.useLayoutEffect)(()=>{c&&L.setZIndex(c)},[L,c]),(0,r.useLayoutEffect)(()=>{L.setOptions({fillColor:a,fillOpacity:n,strokeColor:i,strokeOpacity:s,strokeStyle:l,strokeWeight:u})},[L,a,n,i,s,l,u]),d(L,"mouseover",p),d(L,"mouseout",k),d(L,"mousemove",m),d(L,"mousedown",g),d(L,"click",h),null}),r.forwardRef(({draw:e,onAdd:t,onRemove:o,onCreate:a},n)=>{let i=f(),s=(0,r.useMemo)(()=>{class a extends kakao.maps.AbstractOverlay{constructor(e,t,o){super(),this.draw=e,this.onAdd=t,this.onRemove=o}}return new a(e,t,o)},[e,t,o]);return(0,r.useImperativeHandle)(n,()=>s,[s]),(0,r.useLayoutEffect)(()=>(s.setMap(i),()=>{s.setMap(null)}),[i,s]),(0,r.useLayoutEffect)(()=>{a&&a(s)},[s,a]),null}),["id","as","children","position","pan","panoId","panoX","panoY","tilt","zoom","onCreate","onInit","onPanoidChange","onPositionChanged","onViewpointChange","onErrorGetNearestPanoId"]),C=r.createContext(void 0),L=(r.forwardRef((e,t)=>{let{id:o,as:a,children:n,position:i,pan:p,panoId:k,panoX:m,panoY:f,tilt:g,zoom:h,onCreate:y,onInit:w,onPanoidChange:L,onPositionChanged:E,onViewpointChange:I,onErrorGetNearestPanoId:b}=e,M=l(e,v),[O,x]=(0,r.useState)(!1),[S,z]=(0,r.useState)(!0),[P,R]=(0,r.useState)(),A=(0,r.useRef)(null);return u(()=>{c.isLoaded().then(x)},[]),u(()=>{if(!O)return;let e=A.current;if(!e)return;let t=new kakao.maps.Roadview(e,{pan:p,panoId:k,panoX:m,panoY:f,tilt:g,zoom:h});return R(t),()=>{e.innerHTML=""}},[O,m,f,h]),(0,r.useImperativeHandle)(t,()=>P,[P]),u(()=>{P&&y&&y(P)},[P,y]),u(()=>{if(!P||k||P.getPosition().getLat()===i.lat&&P.getPosition().getLng()===i.lng)return;let e=new kakao.maps.LatLng(i.lat,i.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,i.radius,t=>{null===t&&b?b(P):P.setPanoId(t,e)})},[P,k,i.lat,i.lng,i.radius,b]),u(()=>{if(!P||!k||k===P.getPanoId()||P.getPosition().getLat()===i.lat&&P.getPosition().getLng()===i.lng)return;let e=new kakao.maps.LatLng(i.lat,i.lng);P.setPanoId(k,e)},[P,k,i.lat,i.lng]),u(()=>{if(!P)return;let e=P.getViewpoint();e.pan===p&&e.tilt===g||(p&&(e.pan=p),g&&(e.tilt=g),P.setViewpoint(e))},[P,p,g]),d(P,"init",e=>{z(!1),w&&w(e)}),d(P,"panoid_changed",L),d(P,"viewpoint_changed",I),d(P,"position_changed",E),r.createElement(r.Fragment,null,r.createElement(a||"div",s({ref:A,id:o||"react-kakao-maps-sdk-roadview-container"},M)),P&&!S&&r.createElement(C.Provider,{value:P},n))}),e=>{let t=(0,r.useContext)(C);if(!t)throw Error((e?e+" Component":"useRoadview")+" must exist inside Roadview Component!");return t}),E=(r.forwardRef(({position:e,children:t,clickable:o,xAnchor:a,yAnchor:n,zIndex:s,altitude:l,range:u,onCreate:d},c)=>{let p=L("CustomOverlayRoadview"),k=(0,r.useRef)(document.createElement("div")),m=(0,r.useMemo)(()=>"lat"in e?new kakao.maps.LatLng(e.lat,e.lng):new kakao.maps.Viewpoint(e.pan,e.tilt,e.zoom,e.panoId),[e.lat,e.lng,e.pan,e.tilt,e.zoom,e.panoId]),f=(0,r.useMemo)(()=>{let e=new kakao.maps.CustomOverlay({clickable:o,xAnchor:a,yAnchor:n,zIndex:s,position:m,content:k.current});return k.current.style.display="none",e},[o,a,n]);return(0,r.useImperativeHandle)(c,()=>f,[f]),(0,r.useLayoutEffect)(()=>{if(p)return f.setMap(p),()=>{f.setMap(null)}},[f,p]),(0,r.useLayoutEffect)(()=>{d&&d(f)},[f,d]),(0,r.useLayoutEffect)(()=>{f.setPosition(m)},[f,m]),(0,r.useLayoutEffect)(()=>{s&&f.setZIndex(s)},[f,s]),(0,r.useLayoutEffect)(()=>{l&&f.setAltitude(l)},[f,l]),(0,r.useLayoutEffect)(()=>{u&&f.setRange(u)},[f,u]),k.current.parentElement&&i.createPortal(t,k.current.parentElement)}),r.forwardRef(({image:e,position:t,children:o,altitude:a,clickable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,range:m,title:f,zIndex:g},h)=>{let w=L("RoadviewMarker"),v=(0,r.useMemo)(()=>{var t,o,a,n,r,i,s,l,u,d,c,p;return e&&new kakao.maps.MarkerImage(e.src,new kakao.maps.Size(e.size.width,e.size.height),{alt:null==(t=e.options)?void 0:t.alt,coords:null==(o=e.options)?void 0:o.coords,offset:(null==(a=e.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=e.options)?void 0:n.offset.x,null==(r=e.options)?void 0:r.offset.y),shape:null==(i=e.options)?void 0:i.shape,spriteOrigin:(null==(s=e.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(l=e.options)?void 0:l.spriteOrigin.x,null==(u=e.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(d=e.options)?void 0:d.spriteSize)&&new kakao.maps.Size(null==(c=e.options)?void 0:c.spriteSize.width,null==(p=e.options)?void 0:p.spriteSize.height)})},[e]),C=(0,r.useMemo)(()=>"lat"in t?new kakao.maps.LatLng(t.lat,t.lng):"x"in t?new kakao.maps.Coords(t.x,t.y).toLatLng():new kakao.maps.Viewpoint(t.pan,t.tilt,t.zoom,t.panoId),[t.lat,t.lng,t.x,t.y,t.pan,t.tilt,t.zoom,null==t?void 0:t.panoId]);return r.createElement(y,{map:w,position:C,image:v,altitude:a,clickable:n,infoWindowOptions:i,onClick:s,onDragEnd:l,onDragStart:u,onMouseOut:d,onMouseOver:c,onCreate:p,opacity:k,range:m,title:f,zIndex:g,ref:h},o)}),r.forwardRef(({position:e,children:t,altitude:o,disableAutoPan:a,range:n,removable:i,zIndex:s,onCreate:l},u)=>{let d=L("RoadviewInfoWindow"),c=(0,r.useMemo)(()=>"lat"in e?new kakao.maps.LatLng(e.lat,e.lng):new kakao.maps.Viewpoint(e.pan,e.tilt,e.zoom,e.panoId),[e.lat,e.lng,e.pan,e.tilt,e.zoom,e.panoId]);return r.createElement(g,{altitude:o,disableAutoPan:a,range:n,removable:i,zIndex:s,map:d,position:c,onCreate:l,ref:u},t)}),r.createContext(void 0));function I(e,t,o){(0,r.useLayoutEffect)(()=>{e&&o&&e.addListener(t,(...t)=>void 0===t?o(e):o(e,...t))},[o,e,t])}r.forwardRef(function({arrowOptions:e,circleOptions:t,ellipseOptions:o,markerOptions:a,polygonOptions:n,polylineOptions:i,rectangleOptions:s,drawingMode:l,guideTooltip:u,onSelect:d,onDrawstart:c,onDraw:p,onDrawend:k,onDrawnext:m,onCancle:g,onRemove:h,onStateChanged:y,onCreate:w,children:v},C){let L=f("Toolbox"),b=(0,r.useMemo)(()=>{if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:L,drawingMode:l,guideTooltip:u,arrowOptions:e,circleOptions:t,ellipseOptions:o,markerOptions:a,polygonOptions:n,polylineOptions:i,rectangleOptions:s});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return(0,r.useImperativeHandle)(C,()=>b,[b]),(0,r.useLayoutEffect)(()=>{b&&w&&w(b)},[b,w]),I(b,"select",d),I(b,"drawstart",c),I(b,"draw",p),I(b,"drawend",k),I(b,"drawnext",m),I(b,"cancel",g),I(b,"remove",h),I(b,"state_changed",y),b?r.createElement(E.Provider,{value:b},v):null}),r.forwardRef(function({position:e},t){e=e||kakao.maps.ControlPosition.TOP;let o=f("Toolbox"),a=(0,r.useContext)(E);if(!a)throw Error("Toolbox must exist inside DrawingManager Component!`");let n=(0,r.useMemo)(()=>new kakao.maps.drawing.Toolbox({drawingManager:a}),[a]);return(0,r.useImperativeHandle)(t,()=>n,[n]),(0,r.useLayoutEffect)(()=>{let t=n.getElement();return o.addControl(t,e),()=>{o.removeControl(t)}},[o,n,e]),null}),r.forwardRef(({id:e="react-kakao-maps-sdk-staticmap-container",style:t,className:o,center:a,marker:n,level:i,mapTypeId:l,onCreate:d},c)=>{let[p,k]=(0,r.useState)(),m=(0,r.useRef)(null);return u(()=>{if(!window.kakao)return void console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`");let e=m.current;e&&kakao.maps.load(()=>{let t=Array.isArray(n)?n.map(e=>s({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})):"object"==typeof n&&n.position?s({},n,{position:new kakao.maps.LatLng(n.position.lat,n.position.lng)}):n,o=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(a.lat,a.lng),level:i,mapTypeId:l,marker:t});k(o)})},[JSON.stringify(n)]),(0,r.useImperativeHandle)(c,()=>p,[p]),u(()=>{p&&p.setCenter(new kakao.maps.LatLng(a.lat,a.lng))},[p,a.lat,a.lng]),u(()=>{p&&i&&p.setLevel(i)},[p,i]),u(()=>{p&&l&&p.setMapTypeId(l)},[p,l]),u(()=>{p&&d&&d(p)},[p,d]),r.createElement("div",{id:e,style:t,className:o,ref:m})})}}]);